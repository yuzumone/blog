<!doctype html><html lang=ja-jp dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Android | yuzumone's blog</title>
<meta name=description content="
    
  "><meta name=keywords content="
    
  "><meta name=Hatena::Bookmark content="nocomment"><style>@import 'https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP:wght@400;600&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Noto+Color+Emoji&family=Secular+One&display=swap'</style><link rel=stylesheet href=/css/main.min.2421e6cca60bf0bd0ce22a86e5391b0a7b5bbd939bf4e3d651fd3384307eba3b.css integrity="sha256-JCHmzKYL8L0M4iqG5TkbCntbvZOb9OPWUf0zhDB+ujs=" crossorigin=anonymous><style>.bg{background-color:#f8f8f8}.chroma{background-color:#f8f8f8}.chroma .x{color:#000}.chroma .err{color:#a40000}.chroma .cl{}.chroma .lnlinks{outline:none;text-decoration:none;color:inherit}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0}.chroma .hl{background-color:#dfdfdf}.chroma .lnt{white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .line{display:flex}.chroma .k{color:#204a87;font-weight:700}.chroma .kc{color:#204a87;font-weight:700}.chroma .kd{color:#204a87;font-weight:700}.chroma .kn{color:#204a87;font-weight:700}.chroma .kp{color:#204a87;font-weight:700}.chroma .kr{color:#204a87;font-weight:700}.chroma .kt{color:#204a87;font-weight:700}.chroma .n{color:#000}.chroma .na{color:#c4a000}.chroma .nb{color:#204a87}.chroma .bp{color:#3465a4}.chroma .nc{color:#000}.chroma .no{color:#000}.chroma .nd{color:#5c35cc;font-weight:700}.chroma .ni{color:#ce5c00}.chroma .ne{color:#c00;font-weight:700}.chroma .nf{color:#000}.chroma .fm{color:#000}.chroma .nl{color:#f57900}.chroma .nn{color:#000}.chroma .nx{color:#000}.chroma .py{color:#000}.chroma .nt{color:#204a87;font-weight:700}.chroma .nv{color:#000}.chroma .vc{color:#000}.chroma .vg{color:#000}.chroma .vi{color:#000}.chroma .vm{color:#000}.chroma .l{color:#000}.chroma .ld{color:#000}.chroma .s{color:#4e9a06}.chroma .sa{color:#4e9a06}.chroma .sb{color:#4e9a06}.chroma .sc{color:#4e9a06}.chroma .dl{color:#4e9a06}.chroma .sd{color:#8f5902;font-style:italic}.chroma .s2{color:#4e9a06}.chroma .se{color:#4e9a06}.chroma .sh{color:#4e9a06}.chroma .si{color:#4e9a06}.chroma .sx{color:#4e9a06}.chroma .sr{color:#4e9a06}.chroma .s1{color:#4e9a06}.chroma .ss{color:#4e9a06}.chroma .m{color:#0000cf;font-weight:700}.chroma .mb{color:#0000cf;font-weight:700}.chroma .mf{color:#0000cf;font-weight:700}.chroma .mh{color:#0000cf;font-weight:700}.chroma .mi{color:#0000cf;font-weight:700}.chroma .il{color:#0000cf;font-weight:700}.chroma .mo{color:#0000cf;font-weight:700}.chroma .o{color:#ce5c00;font-weight:700}.chroma .ow{color:#204a87;font-weight:700}.chroma .p{color:#000;font-weight:700}.chroma .c{color:#8f5902;font-style:italic}.chroma .ch{color:#8f5902;font-style:italic}.chroma .cm{color:#8f5902;font-style:italic}.chroma .c1{color:#8f5902;font-style:italic}.chroma .cs{color:#8f5902;font-style:italic}.chroma .cp{color:#8f5902;font-style:italic}.chroma .cpf{color:#8f5902;font-style:italic}.chroma .g{color:#000}.chroma .gd{color:#a40000}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#ef2929}.chroma .gh{color:navy;font-weight:700}.chroma .gi{color:#00a000}.chroma .go{color:#000;font-style:italic}.chroma .gp{color:#8f5902}.chroma .gs{color:#000;font-weight:700}.chroma .gu{color:purple;font-weight:700}.chroma .gt{color:#a40000;font-weight:700}.chroma .gl{color:#000;text-decoration:underline}.chroma .w{color:#f8f8f8;text-decoration:underline}</style><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js></script><script src=/js/search.942bd26f5f9a4a6909fc6fe8467bf5e63314ad56a308f6cf706af97ea3b80f27.js integrity="sha256-lCvSb1+aSmkJ/G/oRnv15jMUrVajCPbPcGr5fqO4Dyc=" crossorigin=anonymous></script></head><body><article class=posts><header><div class=header-container><div class=flex-none><h1 class=title><a href=https://blog.yuzumone.net/>yuzumone's blog</a></h1></div><nav><ul class=flex-items><li class=header-item><a href=/>Home</a></li><li class=header-item><a href=/archives/>Archives</a></li></ul></nav></div><div class=header-line></div></header><main><div class=article-item><div class=article-details><div><h2 class=subtitle><a href=/posts/revisiting-android-spinners/>Revisiting Android Spinners</a></h2><p class=article-description>Photo by Emile Perron on Unsplash arrays.xml arrays は string-array で設定します． integer-array でやる場合は自分で spinner の xml を書かないといけなくなると思います． &lt;resources> &lt;string-array name="message_count"> &lt;item>100&lt;/item> &lt;item>200&lt;/item> &lt;item>500&lt;/item> &lt;item>1000&lt;/item> &lt;item>2000&lt;/item> &lt;/string-array> &lt;/resources> 使う側 string-array でやれば android.R.layout.simple_spinner_item と android.R.layout.simple_spinner_dropdown_item が使えるので楽です． 逆に android~ を使わない場合は自分で ArrayAdapter を作成して Spinner#setAdapter() すれば良さそうです．</p></div><span><time datetime=2018-08-27T00:00:00+00:00>August 27, 2018</time></span></div><div class=article-image><img src="https://images.unsplash.com/photo-1484417894907-623942c8ee29?w=800&amp;auto=format&amp;fit=crop&amp;q=60&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDN8fGNvZGluZ3xlbnwwfHwwfHx8Mg%3D%3D"></div></div><div class=article-item><div class=article-details><div><h2 class=subtitle><a href=/posts/using-firebase-cloud-messaging-and-analytics-without-google-services-json/>Using Firebase Cloud Messaging and Analytics without google-services.json</a></h2><p class=article-description>Photo by Daniel Sturgess on Unsplash イケてない GitHub に上げれないので CI/CD しようと思ったときめんどくさい apply plugin: ‘com.google.gms.google-services’ を app/build.gradle の 1 番下に書く必要がある FCM と com.google.gms.google-services の仲が悪い（らしい） ということで環境変数に APP_ID などを設定して FCM と Analytics を使う方法について書いていきます．</p></div><span><time datetime=2018-08-04T00:00:00+00:00>August 4, 2018</time></span></div><div class=article-image><img src="https://images.unsplash.com/photo-1581051357242-e92ba4df7790?w=800&amp;auto=format&amp;fit=crop&amp;q=60&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fGZpcmViYXNlfGVufDB8fDB8fHwy"></div></div><div class=article-item><div class=article-details><div><h2 class=subtitle><a href=/posts/getting-values-from-other-views-in-android-data-binding/>Getting values from other Views in Android Data Binding</a></h2><p class=article-description>Photo by Henri L. on Unsplash &lt;layout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" > &lt;data> &lt;variable name="viewModel" type="example.MyViewModel"/> &lt;/data> &lt;android.support.constraint.ConstraintLayout android:layout_width="match_parent" android:layout_height="match_parent" android:padding="16dp" > &lt;android.support.design.widget.TextInputEditText android:id="@+id/edit_name" android:layout_width="0dp" android:layout_height="wrap_content" app:layout_constraintStart_toStartOf="parent" app:layout_constraintEnd_toEndOf="parent" /> &lt;Button android:id="@+id/button_ok" android:layout_width="0dp" android:layout_height="wrap_content" android:onClick="@{(v) -> viewModel.action(editName.getText().toString())}" app:layout_constraintTop_toBottomOf="@+id/edit_name" app:layout_constraintStart_toStartOf="parent" app:layout_constraintEnd_toEndOf="parent" /> &lt;/android.support.constraint.ConstraintLayout> &lt;/layout> ポイント Java or Kotlin 側で使うように CamelCase で view の ID を書く</p></div><span><time datetime=2018-07-07T00:00:00+00:00>July 7, 2018</time></span></div><div class=article-image><img src="https://images.unsplash.com/photo-1517852058149-07c7a2e65cc6?w=800&amp;auto=format&amp;fit=crop&amp;q=60&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwcm9maWxlLXBhZ2V8MXx8fGVufDB8fHx8fA%3D%3D"></div></div><div class=article-item><div class=article-details><div><h2 class=subtitle><a href=/posts/using-kotlins-readwriteproprty-for-modern-android-preference-handling/>Using Kotlin's ReadWriteProperty for modern Android Preference handling</a></h2><p class=article-description>Photo by Louis Tsai on Unsplash Kotlin の ReadWriteProperty を使って Delegate して Preference をいい感じにするやつを使ってみました． ちなみに ReadWriteProperty は以下のように定義されています． interface ReadWriteProperty&lt;in R, T> ReadWriteProperty - Kotlin Programming Language ReadWriteProperty 例えば int を Preference に入れる ReadWriteProperty</p></div><span><time datetime=2018-04-27T00:00:00+00:00>April 27, 2018</time></span></div><div class=article-image><img src="https://images.unsplash.com/photo-1588690154757-badf4644190f?w=800&amp;auto=format&amp;fit=crop&amp;q=60&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8a290bGlufGVufDB8fDB8fHwy"></div></div><div class=article-item><div class=article-details><div><h2 class=subtitle><a href=/posts/when-told-the-apk-cant-be-installed/>When told the APK can't be installed</a></h2><p class=article-description>Photo by Fahim Muntashir on Unsplash 最近 issue がとんできてて，そのときになんじゃこれ～と思ったのでメモ． きた issue は以下． Parsing error · Issue #9 · yuzumone/Recordachi 解決策 APK を作成する際，Signature Versions を V1 と V2 にチェックを入れる．</p></div><span><time datetime=2018-03-30T00:00:00+00:00>March 30, 2018</time></span></div><div class=article-image><img src="https://images.unsplash.com/photo-1630442923896-244dd3717b35?q=80&amp;w=2670&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></div></div><div class=article-item><div class=article-details><div><h2 class=subtitle><a href=/posts/created-an-anroid-library-for-multi-line-ellipsizing/>Created an Android library for multi-line ellipsizing</a></h2><p class=article-description>Photo by Volodymyr Dobrovolskyy on Unsplash Android の TextView で複数行 Ellipsize してタップすると全文表示するようなライブラリを作ってみました． yuzumone/ExpandableTextView 動作は下の感じです． 作った pic.twitter.com/IcyLLXjG9P
&mdash; ゆずもね (@Yuzu_037) June 7, 2017 もともとすでに実装はしていて，今も Twltrus の Reply 送信画面では上の動作のような感じにはなっていました． Twltrus の実装では Fragment で boolean を持っていて TextView の ClickListener のところで Ellipsize する・しないを切り替えていました． CustomView にしたほうが TextView の状態を Activity や Fragment で気にしなくてよくなるよなというところです． あとは Android が正式に Kotlin をサポートということで Kotlin でライブラリを作ってみました．</p></div><span><time datetime=2017-06-07T00:00:00+00:00>June 7, 2017</time></span></div><div class=article-image><img src="https://images.unsplash.com/photo-1709547228697-fa1f424a3f39?w=800&amp;auto=format&amp;fit=crop&amp;q=60&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTF8fHByb2dyYW1pbmd8ZW58MHx8MHx8fDI%3D"></div></div></main><footer><section><p>© 2025 yuzumone's blog All rights reserved.</p></section></footer></article></body></html>