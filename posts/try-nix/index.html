<!doctype html><html lang=ja-jp dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Try nix | yuzumone's blog</title>
<meta name=description content="
    
  "><meta name=keywords content="
    
  "><meta name=Hatena::Bookmark content="nocomment"><style>@import 'https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP:wght@400;600&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Noto+Color+Emoji&family=Secular+One&display=swap'</style><link rel=stylesheet href=/css/main.min.2421e6cca60bf0bd0ce22a86e5391b0a7b5bbd939bf4e3d651fd3384307eba3b.css integrity="sha256-JCHmzKYL8L0M4iqG5TkbCntbvZOb9OPWUf0zhDB+ujs=" crossorigin=anonymous><style>.bg{background-color:#f8f8f8}.chroma{background-color:#f8f8f8}.chroma .x{color:#000}.chroma .err{color:#a40000}.chroma .cl{}.chroma .lnlinks{outline:none;text-decoration:none;color:inherit}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0}.chroma .hl{background-color:#dfdfdf}.chroma .lnt{white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .line{display:flex}.chroma .k{color:#204a87;font-weight:700}.chroma .kc{color:#204a87;font-weight:700}.chroma .kd{color:#204a87;font-weight:700}.chroma .kn{color:#204a87;font-weight:700}.chroma .kp{color:#204a87;font-weight:700}.chroma .kr{color:#204a87;font-weight:700}.chroma .kt{color:#204a87;font-weight:700}.chroma .n{color:#000}.chroma .na{color:#c4a000}.chroma .nb{color:#204a87}.chroma .bp{color:#3465a4}.chroma .nc{color:#000}.chroma .no{color:#000}.chroma .nd{color:#5c35cc;font-weight:700}.chroma .ni{color:#ce5c00}.chroma .ne{color:#c00;font-weight:700}.chroma .nf{color:#000}.chroma .fm{color:#000}.chroma .nl{color:#f57900}.chroma .nn{color:#000}.chroma .nx{color:#000}.chroma .py{color:#000}.chroma .nt{color:#204a87;font-weight:700}.chroma .nv{color:#000}.chroma .vc{color:#000}.chroma .vg{color:#000}.chroma .vi{color:#000}.chroma .vm{color:#000}.chroma .l{color:#000}.chroma .ld{color:#000}.chroma .s{color:#4e9a06}.chroma .sa{color:#4e9a06}.chroma .sb{color:#4e9a06}.chroma .sc{color:#4e9a06}.chroma .dl{color:#4e9a06}.chroma .sd{color:#8f5902;font-style:italic}.chroma .s2{color:#4e9a06}.chroma .se{color:#4e9a06}.chroma .sh{color:#4e9a06}.chroma .si{color:#4e9a06}.chroma .sx{color:#4e9a06}.chroma .sr{color:#4e9a06}.chroma .s1{color:#4e9a06}.chroma .ss{color:#4e9a06}.chroma .m{color:#0000cf;font-weight:700}.chroma .mb{color:#0000cf;font-weight:700}.chroma .mf{color:#0000cf;font-weight:700}.chroma .mh{color:#0000cf;font-weight:700}.chroma .mi{color:#0000cf;font-weight:700}.chroma .il{color:#0000cf;font-weight:700}.chroma .mo{color:#0000cf;font-weight:700}.chroma .o{color:#ce5c00;font-weight:700}.chroma .ow{color:#204a87;font-weight:700}.chroma .p{color:#000;font-weight:700}.chroma .c{color:#8f5902;font-style:italic}.chroma .ch{color:#8f5902;font-style:italic}.chroma .cm{color:#8f5902;font-style:italic}.chroma .c1{color:#8f5902;font-style:italic}.chroma .cs{color:#8f5902;font-style:italic}.chroma .cp{color:#8f5902;font-style:italic}.chroma .cpf{color:#8f5902;font-style:italic}.chroma .g{color:#000}.chroma .gd{color:#a40000}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#ef2929}.chroma .gh{color:navy;font-weight:700}.chroma .gi{color:#00a000}.chroma .go{color:#000;font-style:italic}.chroma .gp{color:#8f5902}.chroma .gs{color:#000;font-weight:700}.chroma .gu{color:purple;font-weight:700}.chroma .gt{color:#a40000;font-weight:700}.chroma .gl{color:#000;text-decoration:underline}.chroma .w{color:#f8f8f8;text-decoration:underline}</style><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js></script><script src=/js/search.942bd26f5f9a4a6909fc6fe8467bf5e63314ad56a308f6cf706af97ea3b80f27.js integrity="sha256-lCvSb1+aSmkJ/G/oRnv15jMUrVajCPbPcGr5fqO4Dyc=" crossorigin=anonymous></script></head><body><article class=posts><header><div class=header-container><div class=flex-none><h1 class=title><a href=https://blog.yuzumone.net/>yuzumone's blog</a></h1></div><nav><ul class=flex-items><li class=header-item><a href=/>Home</a></li><li class=header-item><a href=/archives/>Archives</a></li></ul></nav></div><div class=header-line></div></header><main><div><h1 class=article-title>Try nix</h1><div class=header-container><time datetime=2025-08-16T00:00:00+00:00>ğŸ—“ August 16, 2025</time><div class=article-tag><p class=flex-items>ğŸ·ï¸</p><ul class=flex-items><li class=header-item><a href=/tags/nix>Nix</a></li></ul></div></div></div><div><figure><img src="https://images.unsplash.com/photo-1542601098-8fc114e148e2?q=80&amp;w=2340&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"><figcaption><h4>Photo by Aditya Vyas on Unsplash</h4></figcaption></figure><p>Nix ã«å…¥é–€ã—ã¦ã¿ã¾ã—ãŸï¼<br>homebrew ä»£æ›¿ã¨ãªã‚‹ home-manager ã‚„ nix-darwin ãªã©ãŒã‚ã‚Šã¾ã™ãŒï¼Œä»Šå›ã¯é–‹ç™ºç’°å¢ƒæ•´å‚™ã§åˆ©ç”¨ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ï¼<br>devcontainer çš„ãªæ„Ÿã˜ã§ã™ã­ï¼<br></p><h2 id=ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2><p>å…¬å¼ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã§ã¯ãªãï¼ŒDeterminate Systems ã® nix-installer ã‚’åˆ©ç”¨ã—ã¾ã™ï¼<br>å…¬å¼ã‚ˆã‚Šã‚‚ Determinate Systems ã®æ–¹ãŒ Flakes ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæœ‰åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ãªã©ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã‚ˆã†ã§ã™ï¼<br></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -fsSL https://install.determinate.systems/nix <span class=p>|</span> sh -s -- install
</span></span></code></pre></div><h2 id=nix-develop>nix develop</h2><p>ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã¨ï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å®šç¾©ã•ã‚ŒãŸä¾å­˜é–¢ä¿‚ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ãƒ„ãƒ¼ãƒ«ãªã©ï¼‰ã‚’å«ã‚€é–‹ç™ºç”¨ã®ã‚·ã‚§ãƒ«ç’°å¢ƒãŒèµ·å‹•ã—ã¾ã™ï¼<br>å…·ä½“çš„ã«ã¯ flake.nix ãƒ•ã‚¡ã‚¤ãƒ«ã® devShell ã«å®šç¾©ã•ã‚ŒãŸç’°å¢ƒãŒèµ·å‹•ã™ã‚‹ï¼Œã¨ã„ã†ã“ã®ã‚ˆã†ã§ã™ï¼<br>flake.nix ã¯å…¬å¼ Org ã« templates ãŒã¾ã¨ã¾ã£ã¦ã„ã‚‹ã®ã§ï¼Œã“ã“ã‹ã‚‰å§‹ã‚ã‚‹ã®ãŒã‚ˆã•ãã†ï¼<br></p><a href=https://github.com/NixOS/templates class=website-card-link><div class=website-card><div class=website-logo><img src=https://opengraph.githubassets.com/62a8e66c3286fe0d523ca49da5fedcb15b7d79dd351418917dfc6ec5a558cd75/NixOS/templates alt="Flake templates. Contribute to NixOS/templates development by creating an account on GitHub."></div><div class=website-details><p class=website-title>GitHub - NixOS/templates: Flake templates</p><p class=website-description>Flake templates. Contribute to NixOS/templates development by creating an account on GitHub.</p><div class=website-url><img src="https://www.google.com/s2/favicons?sz=14&amp;domain_url=https://github.com" class=url-icon alt="github.com favicon image">
<span class=url-text>github.com</span></div></div></div></a><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ nix develop
</span></span><span class=line><span class=cl>bash-5.2$ which python
</span></span><span class=line><span class=cl>/nix/store/xzjghvsg4fhr2vv6h4scihsdrgk4i76w-python3-3.12.9/bin/python
</span></span></code></pre></div><h2 id=nix-direnv>nix-direnv</h2><p>nix develop ã§ã¯ shell ãŒ bash ã§èµ·å‹•ã—ã¾ã™ï¼<br>æ™®æ®µã¯ fish shell ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§ï¼Œfish ã§èµ·å‹•ã—ã¦æ¬²ã—ã„ã¨ã“ã‚ã§ã™ï¼<br>nix-direnv ã‚’åˆ©ç”¨ã™ã‚‹ã¨ direnv ãŒç’°å¢ƒå¤‰æ•°ã‚’è‡ªå‹•ã§ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‚ˆã†ã«ï¼ŒdevShell ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼<br>ã‚‚ã¡ã‚ã‚“ shell ã‚‚æ™®æ®µåˆ©ç”¨ã—ã¦ã„ã‚‹ã‚‚ã®ãŒåˆ©ç”¨ã§ãã¾ã™ï¼<br></p><a href=https://github.com/nix-community/nix-direnv class=website-card-link><div class=website-card><div class=website-logo><img src=https://opengraph.githubassets.com/634d09dd6892161b7868a9796f2de557d15abcc285d38697e462e5b2b588876c/nix-community/nix-direnv alt="A fast, persistent use_nix/use_flake implementation for direnv [maintainer=@Mic92 / @bbenne10]  - GitHub - nix-community/nix-direnv: A fast, persistent use_nix/use_flake implementation for direnv [..."></div><div class=website-details><p class=website-title>GitHub - nix-community/nix-direnv: A fast, persistent use_nix/use_flake implementation for direnv [maintainer=@Mic92 / @bbenne10]</p><p class=website-description>A fast, persistent use_nix/use_flake implementation for direnv [maintainer=@Mic92 / @bbenne10] - â€¦</p><div class=website-url><img src="https://www.google.com/s2/favicons?sz=14&amp;domain_url=https://github.com" class=url-icon alt="github.com favicon image">
<span class=url-text>github.com</span></div></div></div></a><p>home-manager ã¯åˆ©ç”¨ã—ã¦ã„ãªã„ãŸã‚ï¼Œä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸï¼<br></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nix profile install nixpkgs#nix-direnv
</span></span></code></pre></div><p>ã¾ãŸï¼Œ <code>$HOME/.config/direnv/direnvrc</code> ã«ä»¥ä¸‹ã‚’è¨˜è¼‰ã—ã¾ã™ï¼<br></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>source</span> <span class=nv>$HOME</span>/.nix-profile/share/nix-direnv/direnvrc
</span></span></code></pre></div><p>ã‚ã¨ã¯ <code>use flake</code> ã§ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ flake.nix ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼<br></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;use flake&#34;</span> &gt;&gt; .envrc <span class=o>&amp;&amp;</span> direnv allow
</span></span></code></pre></div><p>ä»–ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚‚ã®ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼<br></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>use flake ~/flake-templates/python
</span></span></code></pre></div><h2 id=ã¾ã¨ã‚>ã¾ã¨ã‚</h2><p>nix develop ã§ nix ã«å…¥é–€ã—ã¦ã¿ã¾ã—ãŸï¼<br>ãƒ¡ãƒªãƒƒãƒˆã¯ä»¥ä¸‹ã‹ãªã¨æ€ã„ã¾ã™ï¼<br></p><ul><li>ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒãªã„<br><ul><li>devcontainer ã¨ç•°ãªã‚Šï¼Œshell ãŒèµ·å‹•ã™ã‚‹ã ã‘ã®ãŸã‚ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒãªã„<br></li><li>ç‰¹ã« Apple silicon ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã¨ï¼Œx86 ãªã‚³ãƒ³ãƒ†ãƒŠã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒãƒ‡ã‚«ã„<br></li></ul></li><li>æ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨ã§ãã‚‹<br><ul><li>devcontainer ã®å ´åˆã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã£ã¦ã„ãªã„ã¨åˆ©ç”¨ã§ããªã„ (ã‚ãŸã‚Šã¾ãˆä½“æ“)<br><ul><li>fish, eza, bat, ripgrep ãªã©ãªã©&mldr;<br></li></ul></li></ul></li><li>ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«<br><ul><li>flake.lock ã§ç’°å¢ƒã‚’ãƒ­ãƒƒã‚¯ã§ãã‚‹<br><ul><li>é–‹ç™ºç’°å¢ƒã®å†ç¾æ€§ãŒé«˜ã„<br></li></ul></li><li>ã¨ã„ã£ã¦ã‚‚ãƒãƒ¼ãƒ ã§ nix ã‚’åˆ©ç”¨ã™ã‚‹ã®ã¯ãƒãƒ¼ãƒ‰ãƒ«ãŒé«˜ãã†ã ãŒâ€¦â€¦<br></li></ul></li></ul></div></main><footer><section><p>Â© 2025 yuzumone's blog All rights reserved.</p></section></footer></article></body></html>