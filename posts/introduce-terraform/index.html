<!doctype html><html lang=ja-jp dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Introduce Terraform | yuzumone's blog</title>
<meta name=description content="
    
  "><meta name=keywords content="
    
  "><meta name=Hatena::Bookmark content="nocomment"><style>@import 'https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP:wght@400;600&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Noto+Color+Emoji&family=Secular+One&display=swap'</style><link rel=stylesheet href=/css/main.min.2421e6cca60bf0bd0ce22a86e5391b0a7b5bbd939bf4e3d651fd3384307eba3b.css integrity="sha256-JCHmzKYL8L0M4iqG5TkbCntbvZOb9OPWUf0zhDB+ujs=" crossorigin=anonymous><style>.bg{background-color:#f8f8f8}.chroma{background-color:#f8f8f8}.chroma .x{color:#000}.chroma .err{color:#a40000}.chroma .cl{}.chroma .lnlinks{outline:none;text-decoration:none;color:inherit}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0}.chroma .hl{background-color:#dfdfdf}.chroma .lnt{white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .line{display:flex}.chroma .k{color:#204a87;font-weight:700}.chroma .kc{color:#204a87;font-weight:700}.chroma .kd{color:#204a87;font-weight:700}.chroma .kn{color:#204a87;font-weight:700}.chroma .kp{color:#204a87;font-weight:700}.chroma .kr{color:#204a87;font-weight:700}.chroma .kt{color:#204a87;font-weight:700}.chroma .n{color:#000}.chroma .na{color:#c4a000}.chroma .nb{color:#204a87}.chroma .bp{color:#3465a4}.chroma .nc{color:#000}.chroma .no{color:#000}.chroma .nd{color:#5c35cc;font-weight:700}.chroma .ni{color:#ce5c00}.chroma .ne{color:#c00;font-weight:700}.chroma .nf{color:#000}.chroma .fm{color:#000}.chroma .nl{color:#f57900}.chroma .nn{color:#000}.chroma .nx{color:#000}.chroma .py{color:#000}.chroma .nt{color:#204a87;font-weight:700}.chroma .nv{color:#000}.chroma .vc{color:#000}.chroma .vg{color:#000}.chroma .vi{color:#000}.chroma .vm{color:#000}.chroma .l{color:#000}.chroma .ld{color:#000}.chroma .s{color:#4e9a06}.chroma .sa{color:#4e9a06}.chroma .sb{color:#4e9a06}.chroma .sc{color:#4e9a06}.chroma .dl{color:#4e9a06}.chroma .sd{color:#8f5902;font-style:italic}.chroma .s2{color:#4e9a06}.chroma .se{color:#4e9a06}.chroma .sh{color:#4e9a06}.chroma .si{color:#4e9a06}.chroma .sx{color:#4e9a06}.chroma .sr{color:#4e9a06}.chroma .s1{color:#4e9a06}.chroma .ss{color:#4e9a06}.chroma .m{color:#0000cf;font-weight:700}.chroma .mb{color:#0000cf;font-weight:700}.chroma .mf{color:#0000cf;font-weight:700}.chroma .mh{color:#0000cf;font-weight:700}.chroma .mi{color:#0000cf;font-weight:700}.chroma .il{color:#0000cf;font-weight:700}.chroma .mo{color:#0000cf;font-weight:700}.chroma .o{color:#ce5c00;font-weight:700}.chroma .ow{color:#204a87;font-weight:700}.chroma .p{color:#000;font-weight:700}.chroma .c{color:#8f5902;font-style:italic}.chroma .ch{color:#8f5902;font-style:italic}.chroma .cm{color:#8f5902;font-style:italic}.chroma .c1{color:#8f5902;font-style:italic}.chroma .cs{color:#8f5902;font-style:italic}.chroma .cp{color:#8f5902;font-style:italic}.chroma .cpf{color:#8f5902;font-style:italic}.chroma .g{color:#000}.chroma .gd{color:#a40000}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#ef2929}.chroma .gh{color:navy;font-weight:700}.chroma .gi{color:#00a000}.chroma .go{color:#000;font-style:italic}.chroma .gp{color:#8f5902}.chroma .gs{color:#000;font-weight:700}.chroma .gu{color:purple;font-weight:700}.chroma .gt{color:#a40000;font-weight:700}.chroma .gl{color:#000;text-decoration:underline}.chroma .w{color:#f8f8f8;text-decoration:underline}</style><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js></script><script src=/js/search.942bd26f5f9a4a6909fc6fe8467bf5e63314ad56a308f6cf706af97ea3b80f27.js integrity="sha256-lCvSb1+aSmkJ/G/oRnv15jMUrVajCPbPcGr5fqO4Dyc=" crossorigin=anonymous></script></head><body><article class=posts><header><div class=header-container><div class=flex-none><h1 class=title><a href=https://blog.yuzumone.net/>yuzumone's blog</a></h1></div><nav><ul class=flex-items><li class=header-item><a href=/>Home</a></li><li class=header-item><a href=/archives/>Archives</a></li></ul></nav></div><div class=header-line></div></header><main><div><h1 class=article-title>Introduce Terraform</h1><div class=header-container><time datetime=2025-09-21T00:00:00+00:00>🗓 September 21, 2025</time><div class=article-tag><p class=flex-items>🏷️</p><ul class=flex-items><li class=header-item><a href=/tags/terraform>Terraform</a></li></ul></div></div><details class=page-toc><summary>Table of Contents</summary><nav id=TableOfContents><ul><li><a href=#教材>教材</a></li><li><a href=#data-から作成する>data から作成する</a></li><li><a href=#provider-の配布>Provider の配布</a></li><li><a href=#チーム内展開>チーム内展開</a></li><li><a href=#まとめ>まとめ</a></li></ul></nav></details></div><div><p>最近転職活動を少しやっていまして，その中でお断りされる理由が以下の 2 つです．<br></p><ol><li>パブリッククラウドの経験<br>これはプライベートクラウドをばりばりやっている弊社ではどうしようもない．<br>その代わり自社 DC 運用経験というのがあるわけですが，オンプレの「オ」の字も考えていない企業からしたらムダな経験ってワケですね．<br></li><li>Terraform の経験<br>パブリッククラウドの IaC を Terraform でやるなんてもう当たり前です．<br>上述のとおりプライベートクラウドかつ自社向け PF が提供されているので，これまで利用する必要がありませんでした．<br></li></ol><p>正直 Terraform というか構成管理については Python Fabric から始まり，Chef を利用しそこから Ansible に移行するまで実施していたので，やればできるだろぐらいに考えていました．<br>とはいえ Terraform の実務経験がないことに渋られるのもなんかムカついてきたので，チーム内で Terraform を利用することにしました．<br>利用するだけだと職務経歴書に書いても響かないと思うので，Provider の作成も実施しました．<br>今回は Terraform Provider を自作して導入してみた，ということで記事を書かせていただきます．<br></p><h2 id=教材>教材</h2><p>以下のとおり進めるだけで簡単に Provider が作成できました．<br>資料が優秀．<br></p><p><a href=https://developer.hashicorp.com/terraform/tutorials/providers-plugin-framework/providers-plugin-framework-provider>Implement a provider with the Terraform Plugin Framework</a><br></p><p>テンプレートも GitHub にあるのでこれを clone して上の通り進めるだけです．<br></p><p><a href=https://github.com/hashicorp/terraform-provider-scaffolding-framework>terraform-provider-scaffolding-framework</a><br></p><h2 id=data-から作成する>data から作成する</h2><p>チュートリアルでも Implement data source があるのでそのまま進めば data から作成することになります．<br>data いらない resource から作るぜというのもできるのですが，data の場合は Read だけとりあえず実装すれば動くので雰囲気がつかみやすいです．<br>resource の場合は Read/Create/Update/Delete の 4 つ実装する必要があります．<br></p><h2 id=provider-の配布>Provider の配布</h2><p>実務で Provider を作成するとコードは GitHub Enterprise に置くことになると思います．<br>Provider の配布ですが Registry を用意する必要があり，GitHub にとりあえずバイナリ置けば OK という感じではありません．<br>普通チームで利用することになると思うので，作成前にどのように Provider を共有するかは考えておいた方が良いです．<br></p><h2 id=チーム内展開>チーム内展開</h2><p>もちろんチームメンバーは Terraform を利用したことがないのでここが一番つらかったです．<br>インフラエンジニアなので BGP/OSPF などのルーティングプロトコルを理解した上でアプライアンス機器の運用・管理するのが主務なのであり，Terraform テンプレートの作成を含むコードを書くというのに慣れていないメンバーがほとんどです．<br>Ansible はその点 yaml を利用しており，モジュールや何を記載するかなどの問題はありつつも，フォーマットで問題になることがありませんでした．<br>Terraform テンプレートというか hcl をみんなで書いていくというのは，かなり難易度が高いです．<br>初期導入ということで大きなインパクトがないところに利用しているため，ドキュメントを共有することでとりあえずは運用できている状態です．<br>このへんはどのように浸透させていくかまだまだ考えていたいと思っています．<br>(実はプライベートクラウドの IaC のために，Terraform を利用していこうという噂があったのでチーム内への導入はわりとすんなりできました．)<br></p><h2 id=まとめ>まとめ</h2><p>職務経歴書には早速 Terraform って書こうと思います．<br></p></div></main><footer><section><p>© 2025 yuzumone's blog All rights reserved.</p></section></footer></article></body></html>